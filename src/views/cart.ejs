<%- include('partials/header.ejs') %>

<div class="container">
  <div class="d-flex justify-content-between align-items-center pt-4 pb-3">
    <h1>Your Cart</h1>
    <div class="align-self-end d-flex">
      <h3 class="me-2">Total:</h3>
      <h3 class="text-success">$<%= total.toFixed(2) %></h3>
    </div>
  </div>
  <% if (cart.length === 0) { %>
  <p>Your cart is empty.</p>
  <% } else { %>
  <ul class="list-group">
    <% cart.forEach(product => { %> <%- include('partials/product_cart.ejs', {
    product }) %> <% }) %>
  </ul>
  <% } %> <% if (cart.length !== 0) { %>
  <div class="pt-4 d-flex justify-content-end gap-2">
    <form action="/cart/buy" method="POST">
      <button type="submit" class="btn btn-success px-5">Buy</button>
    </form>
    <form action="/cart/clear" method="POST">
      <button type="submit" class="btn btn-secondary px-5">Cancel</button>
    </form>
  </div>
  <% } %>
</div>

<%- include('partials/footer.ejs') %>
